{"ast":null,"code":"import React,{useEffect}from'react';import Loading from'../components/Loading';import ErrorMessageBox from'../components/ErrorMessagebox';import{LinkContainer}from'react-router-bootstrap';import{Button,Table}from'react-bootstrap';import{useSelector,useDispatch}from'react-redux';import{listUsers,deleteUser}from'../actions/userAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserListScreen(){var userDelete=useSelector(function(state){return state.userDelete;});var load=userDelete.loading,deletEerror=userDelete.error,successDelete=userDelete.success;var dispatch=useDispatch();useEffect(function(){dispatch(listUsers());},[dispatch,successDelete]);var deleteHandler=function deleteHandler(user){if(window.confirm('Are you sure')){dispatch(deleteUser(user._id));}};var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),load&&/*#__PURE__*/_jsx(Loading,{}),deletEerror&&/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:deletEerror}),successDelete&&/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"success\",children:\"successfull remove the user\"}),loading&&/*#__PURE__*/_jsx(Loading,{}),error&&/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NGO\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isNGO?'YES':'NO'}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?'YES':'NO'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/user/\".concat(user._id,\"/updateStatus\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:\"Edit\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-sm\",variant:\"light\",onClick:function onClick(){return deleteHandler(user);},children:\"Delete\"})]})]},user._id);})})]})]});}","map":{"version":3,"names":["React","useEffect","Loading","ErrorMessageBox","LinkContainer","Button","Table","useSelector","useDispatch","listUsers","deleteUser","UserListScreen","userDelete","state","load","loading","deletEerror","error","successDelete","success","dispatch","deleteHandler","user","window","confirm","_id","userList","users","map","name","email","isNGO","isAdmin"],"sources":["C:/Final year project - Copy - Copy/Final year/charity/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport Loading from '../components/Loading'\r\nimport ErrorMessageBox from '../components/ErrorMessagebox'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { listUsers, deleteUser } from '../actions/userAction'\r\n\r\nexport default function UserListScreen() {\r\n  const userDelete = useSelector((state) => state.userDelete)\r\n  const {\r\n    loading: load,\r\n    error: deletEerror,\r\n    success: successDelete,\r\n  } = userDelete\r\n\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    dispatch(listUsers())\r\n  }, [dispatch, successDelete])\r\n\r\n  const deleteHandler = (user) => {\r\n    if (window.confirm('Are you sure')) {\r\n      dispatch(deleteUser(user._id))\r\n    }\r\n  }\r\n\r\n  const userList = useSelector((state) => state.userList)\r\n  const { loading, error, users } = userList\r\n\r\n  return (\r\n    <>\r\n      <h1>Users</h1>\r\n      {load && <Loading></Loading>}\r\n      {deletEerror && (\r\n        <ErrorMessageBox variant=\"danger\">{deletEerror}</ErrorMessageBox>\r\n      )}\r\n      {successDelete && (\r\n        <ErrorMessageBox variant=\"success\">\r\n          successfull remove the user\r\n        </ErrorMessageBox>\r\n      )}\r\n      {loading && <Loading></Loading>}\r\n      {error && <ErrorMessageBox variant=\"danger\">{error}</ErrorMessageBox>}\r\n      <Table striped bordered hover responsive>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>NAME</th>\r\n            <th>EMAIL</th>\r\n            <th>NGO</th>\r\n            <th>ADMIN</th>\r\n            <th>ACTIONS</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((user) => (\r\n            <tr key={user._id}>\r\n              <td>{user._id}</td>\r\n              <td>{user.name}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.isNGO ? 'YES' : 'NO'}</td>\r\n              <td>{user.isAdmin ? 'YES' : 'NO'}</td>\r\n              <td>\r\n                <LinkContainer to={`/user/${user._id}/updateStatus`}>\r\n                  <Button variant=\"light\" className=\"btn-sm\">\r\n                    Edit\r\n                  </Button>\r\n                </LinkContainer>\r\n                <Button\r\n                  type=\"button\"\r\n                  className=\"btn-sm\"\r\n                  variant=\"light\"\r\n                  onClick={() => deleteHandler(user)}\r\n                >\r\n                  Delete\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}