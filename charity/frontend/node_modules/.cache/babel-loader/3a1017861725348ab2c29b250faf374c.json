{"ast":null,"code":"import _toConsumableArray from\"C:/Final year project - Copy - Copy/Final year/charity/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Final year project - Copy - Copy/Final year/charity/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{Image,ListGroup,Row,Col,Card,Button,ListGroupItem,Container}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{detailsOfProject}from'../actions/projectAction';import ErrorMessageBox from'../components/ErrorMessagebox';import Loading from'../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProjectScreen(){var navigate=useNavigate();var params=useParams();var projectId=params.id;var dispatch=useDispatch();var projectDetails=useSelector(function(state){return state.projectDetails;});var project=projectDetails.project,loading=projectDetails.loading,error=projectDetails.error;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedImage=_useState2[0],setSelectedImage=_useState2[1];// const userLogin = useSelector((state) => state.userLogin)\n// const { userInfo } = userLogin\nuseEffect(function(){dispatch(detailsOfProject(projectId));},[dispatch,projectId]);var proceedToPay=function proceedToPay(){navigate(\"/payment_project/\".concat(projectId));};return loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Image,{src:selectedImage||project.image,alt:project.name,fluid:true}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Row,{xs:1,md:2,className:\"g-2\",children:[project.image].concat(_toConsumableArray(project.images)).map(function(x){return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Button,{className:\"thumbnail\",type:\"button\",variant:\"light\",onClick:function onClick(){return setSelectedImage(x);},children:/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:x,alt:\"project\"})})})},x);})})})]}),/*#__PURE__*/_jsx(Col,{md:5,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(\"h3\",{children:project.name})}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location: \"}),\" \",project.location]}),/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"By: \"}),\" \",project.by]})]}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description: \"}),\" \",project.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Challenge:\"}),\" \",project.Challenge]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Solution: \"}),project.Solution]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Longterm Impact:\"}),\" \",project.longTermImpact]})]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(\"h5\",{children:[\"Category: \",project.category]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(\"div\",{children:[\"Status:\",' ',project.donationGoal<=project.currentdonation?'Donation goal has been completed':'In progress']})}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Donation needed: $\",project.donationGoal]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Collected amount: $\",project.currentdonation]})]}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Button,{className:\"btn-block\",type:\"button\",disabled:project.donationGoal<=project.currentdonation,onClick:proceedToPay,children:\"Donate\"})})]})})})]}),/*#__PURE__*/_jsx(Row,{})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Image","ListGroup","Row","Col","Card","Button","ListGroupItem","Container","useDispatch","useSelector","detailsOfProject","ErrorMessageBox","Loading","ProjectScreen","navigate","params","projectId","id","dispatch","projectDetails","state","project","loading","error","selectedImage","setSelectedImage","proceedToPay","image","name","images","map","x","location","by","description","Challenge","Solution","longTermImpact","category","donationGoal","currentdonation"],"sources":["C:/Final year project - Copy - Copy/Final year/charity/frontend/src/screens/ProjectScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport {\r\n  Image,\r\n  ListGroup,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  ListGroupItem,\r\n  Container,\r\n} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { detailsOfProject } from '../actions/projectAction'\r\nimport ErrorMessageBox from '../components/ErrorMessagebox'\r\nimport Loading from '../components/Loading'\r\n\r\nexport default function ProjectScreen() {\r\n  const navigate = useNavigate()\r\n  const params = useParams()\r\n  const { id: projectId } = params\r\n  const dispatch = useDispatch()\r\n  const projectDetails = useSelector((state) => state.projectDetails)\r\n  const { project, loading, error } = projectDetails\r\n  const [selectedImage, setSelectedImage] = useState('')\r\n  // const userLogin = useSelector((state) => state.userLogin)\r\n  // const { userInfo } = userLogin\r\n\r\n  useEffect(() => {\r\n    dispatch(detailsOfProject(projectId))\r\n  }, [dispatch, projectId])\r\n\r\n  const proceedToPay = () => {\r\n    navigate(`/payment_project/${projectId}`)\r\n  }\r\n  return loading ? (\r\n    <Loading />\r\n  ) : error ? (\r\n    <ErrorMessageBox variant=\"danger\">{error}</ErrorMessageBox>\r\n  ) : (\r\n    <Container className=\"mt-5\">\r\n      <Row>\r\n        <Col md={4}>\r\n          <Image\r\n            src={selectedImage || project.image}\r\n            alt={project.name}\r\n            fluid\r\n          />\r\n          <ListGroupItem>\r\n            <Row xs={1} md={2} className=\"g-2\">\r\n              {[project.image, ...project.images].map((x) => (\r\n                <Col key={x}>\r\n                  <Card>\r\n                    <Button\r\n                      className=\"thumbnail\"\r\n                      type=\"button\"\r\n                      variant=\"light\"\r\n                      onClick={() => setSelectedImage(x)}\r\n                    >\r\n                      <Card.Img variant=\"top\" src={x} alt=\"project\" />\r\n                    </Button>\r\n                  </Card>\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          </ListGroupItem>\r\n        </Col>\r\n        <Col md={5}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroupItem>\r\n              <h3>{project.name}</h3>\r\n            </ListGroupItem>\r\n            <ListGroupItem>\r\n              <h6>\r\n                <strong>Location: </strong> {project.location}\r\n              </h6>\r\n              <h6>\r\n                <strong>By: </strong> {project.by}\r\n              </h6>\r\n            </ListGroupItem>\r\n\r\n            <ListGroupItem>\r\n              <p>\r\n                <strong>Description: </strong> {project.description}\r\n              </p>\r\n              <p>\r\n                <strong>Challenge:</strong> {project.Challenge}\r\n              </p>\r\n              <p>\r\n                <strong>Solution: </strong>\r\n                {project.Solution}\r\n              </p>\r\n              <p>\r\n                <strong>Longterm Impact:</strong> {project.longTermImpact}\r\n              </p>\r\n            </ListGroupItem>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroupItem>\r\n                <h5>Category: {project.category}</h5>\r\n              </ListGroupItem>\r\n              <ListGroupItem>\r\n                <div>\r\n                  Status:{' '}\r\n                  {project.donationGoal <= project.currentdonation\r\n                    ? 'Donation goal has been completed'\r\n                    : 'In progress'}\r\n                </div>\r\n              </ListGroupItem>\r\n              <ListGroupItem>\r\n                <div>Donation needed: ${project.donationGoal}</div>\r\n                <div>Collected amount: ${project.currentdonation}</div>\r\n              </ListGroupItem>\r\n              <ListGroupItem>\r\n                <Button\r\n                  className=\"btn-block\"\r\n                  type=\"button\"\r\n                  disabled={project.donationGoal <= project.currentdonation}\r\n                  onClick={proceedToPay}\r\n                >\r\n                  Donate\r\n                </Button>\r\n              </ListGroupItem>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n      <Row></Row>\r\n    </Container>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}