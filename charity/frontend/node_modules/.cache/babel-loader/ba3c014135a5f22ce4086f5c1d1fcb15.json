{"ast":null,"code":"import _slicedToArray from\"C:/Final year project - Copy - Copy/Final year/charity/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Button,Container,Form}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{Link,useLocation,useNavigate}from'react-router-dom';import{register}from'../actions/userAction';import ErrorMessageBox from'../components/ErrorMessagebox';import Loading from'../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RegisterScreen=function RegisterScreen(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),Confirmpassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var _useLocation=useLocation(),search=_useLocation.search;var redirectInUrl=new URLSearchParams(search).get('redirect');var redirect=redirectInUrl?redirectInUrl:'/';var userRegister=useSelector(function(state){return state.userRegister;});var userInfo=userRegister.userInfo,loading=userRegister.loading,error=userRegister.error;var dispatch=useDispatch();useEffect(function(){if(userInfo){navigate(redirect);console.log(redirect);}},[userInfo,navigate,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==Confirmpassword){setMessage('Passwords do not match');}else{dispatch(register(name,email,password));navigate('/');}};return/*#__PURE__*/_jsxs(Container,{className:\"small-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-3\",children:\"Sign Up\"}),message&&/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:message}),error&&/*#__PURE__*/_jsx(ErrorMessageBox,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Full Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",required:true,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"confirmPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",required:true,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign In\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[\"Have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:redirect?\"/signin?redirect=\".concat(redirect):'/signin',children:\"Sign in\"})]})]})]});};","map":{"version":3,"names":["React","useEffect","useState","Button","Container","Form","useDispatch","useSelector","Link","useLocation","useNavigate","register","ErrorMessageBox","Loading","RegisterScreen","navigate","name","setName","email","setEmail","password","setPassword","Confirmpassword","setConfirmPassword","message","setMessage","search","redirectInUrl","URLSearchParams","get","redirect","userRegister","state","userInfo","loading","error","dispatch","console","log","submitHandler","e","preventDefault","target","value"],"sources":["C:/Final year project - Copy - Copy/Final year/charity/frontend/src/screens/RegisterScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Button, Container, Form } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useLocation, useNavigate } from 'react-router-dom'\r\nimport { register } from '../actions/userAction'\r\nimport ErrorMessageBox from '../components/ErrorMessagebox'\r\nimport Loading from '../components/Loading'\r\n\r\nexport const RegisterScreen = () => {\r\n  const navigate = useNavigate()\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [Confirmpassword, setConfirmPassword] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  const { search } = useLocation()\r\n  const redirectInUrl = new URLSearchParams(search).get('redirect')\r\n  const redirect = redirectInUrl ? redirectInUrl : '/'\r\n\r\n  const userRegister = useSelector((state) => state.userRegister)\r\n  const { userInfo, loading, error } = userRegister\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      navigate(redirect)\r\n      console.log(redirect)\r\n    }\r\n  }, [userInfo, navigate, redirect])\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    if (password !== Confirmpassword) {\r\n      setMessage('Passwords do not match')\r\n    } else {\r\n      dispatch(register(name, email, password))\r\n      navigate('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className=\"small-container\">\r\n      <h1 className=\"my-3\">Sign Up</h1>\r\n      {message && <ErrorMessageBox variant=\"danger\">{message}</ErrorMessageBox>}\r\n      {error && <ErrorMessageBox variant=\"danger\">{error}</ErrorMessageBox>}\r\n      {loading && <Loading />}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group className=\"mb-3\" controlId=\"name\">\r\n          <Form.Label>Full Name</Form.Label>\r\n          <Form.Control\r\n            type=\"name\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\" controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"confirmPassword\">\r\n          <Form.Label>Confirm Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            required\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <div className=\"mb-3\">\r\n          <Button type=\"submit\">Sign In</Button>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          Have an account?{' '}\r\n          <Link to={redirect ? `/signin?redirect=${redirect}` : '/signin'}>\r\n            Sign in\r\n          </Link>\r\n        </div>\r\n      </Form>\r\n    </Container>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}